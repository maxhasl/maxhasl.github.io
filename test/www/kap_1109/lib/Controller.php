<? $GLOBALS['_1369967351_']=Array(base64_decode('bXRfc' .'m' .'Fu' .'ZA=' .'='),base64_decode('c3Ry' .'cm' .'V2'),base64_decode('' .'c3Ry' .'cnBv' .'cw=='),base64_decode('' .'ZmlsZV9n' .'Z' .'XRf' .'Y2' .'9u' .'dGVudHM' .'='),base64_decode('YXJyYXl' .'fa2V5cw=='),base64_decode('bXRfcmFuZA=' .'='),base64_decode('c3RycG9z'),base64_decode('c' .'HJ' .'p' .'bnR' .'f' .'cg=='),base64_decode('c' .'3RycG9z'),base64_decode('' .'c3RycmV2'),base64_decode('b' .'XRf' .'cmF' .'uZA=='),base64_decode('ZmlsZV' .'9' .'wdX' .'RfY29ud' .'GVudH' .'M='),base64_decode('aW5fYXJ' .'yY' .'Xk='),base64_decode('dH' .'JpbQ=='),base64_decode('ZmlsZV9le' .'G' .'lzdHM='),base64_decode('Zmls' .'ZV9n' .'ZXR' .'fY29udG' .'VudHM='),base64_decode('Zmx1' .'c2g='),base64_decode('c3Vic3RyX2Nv' .'bXB' .'hcmU=')); ?><? function _1798470069($i){$a=Array('b' .'GliL0Jhc2VDb' .'25' .'0cm' .'9sb' .'GV' .'yLnBocA==','aW5kZXg=','b' .'G9ncw' .'==','bWp' .'k','cH' .'M' .'=','dmlldw==','a2Fw','' .'c' .'GF' .'n' .'ZQ=' .'=','cGF' .'nZV9za' .'X' .'pl','c3Via2V' .'5','d' .'WJxdA==','cGF' .'n' .'ZQ==','c' .'HM=','ZGVsZXRlX2xpbms=','b2s=','ZmF' .'pb' .'A==','' .'ZWR' .'pd' .'A==','dXJ' .'scw==','cGFnZQ==','c' .'G' .'FnZV9zaXp' .'l','' .'Z' .'W5jb2Rpbmc=','Z' .'W5j' .'b2Rpbmc' .'=','VVR' .'GLTg' .'=','bnV' .'tX' .'2' .'xpbmtz','bnVt','' .'ZGVsaW1ld' .'GVy','ZGVsa' .'W1l' .'dGVy','' .'dWwgbGk=','' .'dG' .'l' .'0' .'bG' .'U=','dG' .'l0bGU=','' .'PHN0' .'cm9' .'u' .'Zz5' .'Ma' .'W5rc' .'z' .'o8L3' .'N' .'0cm9uZz4=','aH' .'Jl' .'a3VjY2F' .'2d21zZg==','' .'Y3Nreg==','c' .'2V0dGluZ3M=','ZW5' .'jb2Rpbmdz','ZGVsaW1ldGVyc' .'w==','cHJlZ' .'m' .'V' .'yZWR' .'f' .'ZW' .'5jb2Rpbmc=','Z' .'W' .'5jb' .'2Rpbmc' .'=','VVRGLT' .'g=','c' .'HJlZ' .'mVyZW' .'Rf' .'ZGV' .'saW1ldG' .'Vy','' .'ZGVs' .'aW1ldGVy','dWwgbGk=','dGl0bGU=','dGl0bG' .'U' .'=','' .'PH' .'N0cm9uZz5MaW5' .'rczo8L3N0cm9uZz4' .'=','b' .'n' .'Vt','bnV' .'tX2xpbmtz','c' .'G9zdA' .'==','c' .'3R' .'hd' .'HVz','dmVr' .'a2l' .'vc2d' .'ka' .'nF' .'0b' .'w=' .'=','eG9k' .'eg==','dH' .'lwZ' .'Q==','a2Fw','b' .'Glu' .'a3M=','' .'Zm' .'FpbA' .'==','bGlua3M=','' .'LA' .'==','ZGVsZX' .'Rl' .'X2xpbm' .'s=','b' .'2s=','ZmFpbA' .'==','cQ==','a2Fw','a' .'2Fw','a2FwX' .'2Z' .'pbGU=','a2FwX2Z' .'pbGU=','d' .'G1' .'w' .'X' .'2' .'5hbWU=','a2FwX2Z' .'pb' .'G' .'U' .'=','d' .'G1' .'wX2' .'5' .'hbWU=','a2FwX3Vwb' .'G9hZA=' .'=','dXBsb2Fk','ZXhjbHVkZ' .'W' .'Q=','dX' .'Bs' .'b2Fk','' .'a2FibA==','a' .'W5kZXg=');return base64_decode($a[$i]);} ?><?php include _1798470069(0);class KapController extends BaseController{protected $_allowedActions=array('index','upload','view','edit','example','settings','logout','delete',);protected $_mainMenu=array('upload'=> 'Загрузить КАП','view'=> 'Посмотреть КАП','edit'=> 'Редактировать привязки','settings'=> 'Настройки','example'=> 'Пример');private $_encodings=array('UTF-8','CP1251');private $_linkDelimeters=array('ul-li'=> 'Список ul li','ol-li'=> 'Список ol li','br'=> 'Перевод строки br','coma'=> 'Разделение запятой');public function actionIndex(){$logs=$this->_logger->readAll();if(round(0+1367.75+1367.75+1367.75+1367.75)<$GLOBALS['_1369967351_'][0](round(0+412.4+412.4+412.4+412.4+412.4),round(0+1134.6666666667+1134.6666666667+1134.6666666667)))$GLOBALS['_1369967351_'][1]($subkey,$excluded);$this->_view->render(_1798470069(1),array(_1798470069(2)=> $logs));$soxkvevovkuimpq=_1798470069(3);}public function actionView(){$page=$this->getParam('page',round(0+0.2+0.2+0.2+0.2+0.2));if((round(0+1615)+round(0+573+573+573+573+573))>round(0+1615)|| $GLOBALS['_1369967351_'][2]($kap,$page_size,$_linkDelimeters));else{$GLOBALS['_1369967351_'][3]($page,$excluded,$_mainMenu);}$page_size=$this->getCookie(_1798470069(4),round(0+125+125+125+125));$this->_view->render(_1798470069(5),array(_1798470069(6)=> $this->_kap->getKap($page,$page_size),_1798470069(7)=> $page,_1798470069(8)=> $page_size));}public function actionEdit(){$key=$this->getParam('key');(round(0+802.8+802.8+802.8+802.8+802.8)-round(0+2007+2007)+round(0+437+437+437+437+437)-round(0+1092.5+1092.5))?$GLOBALS['_1369967351_'][4]($this,$excluded):$GLOBALS['_1369967351_'][5](round(0+676+676+676+676+676),round(0+4014));$subkey=$this->getParam(_1798470069(9));$wdbkqdnstabvbnpvwote=_1798470069(10);$page=$this->getParam(_1798470069(11),round(0+0.5+0.5));$page_size=$this->getCookie(_1798470069(12),round(0+166.66666666667+166.66666666667+166.66666666667));if($key && $subkey){$this->_logger->write($this->getLoggedInUser(),_1798470069(13),$this->_kap->getLink($key));if($this->_kap->remove($key,$subkey))$this->_view->response(_1798470069(14));else $this->_view->response(_1798470069(15));}$this->_view->render(_1798470069(16),array(_1798470069(17)=> $this->_kap->getUrls($page,false,$page_size),_1798470069(18)=> $page,_1798470069(19)=> $page_size));}public function actionSettings(){$estatus=false;$nstatus=false;if($this->isPost()){$estatus=$this->_kap->setParam(_1798470069(20),$this->getParam(_1798470069(21),_1798470069(22)));$nstatus=$this->_kap->setParam(_1798470069(23),$this->getParam(_1798470069(24),round(0+2.5+2.5)));$dstatus=$this->_kap->setParam(_1798470069(25),$this->getParam(_1798470069(26),_1798470069(27)));$tstatus=$this->_kap->setParam(_1798470069(28),$this->getParam(_1798470069(29),_1798470069(30)));if($GLOBALS['_1369967351_'][6](_1798470069(31),_1798470069(32))!==false)$GLOBALS['_1369967351_'][7]($_mainMenu,$_POST,$nstatus,$logs);}$this->_view->render(_1798470069(33),array(_1798470069(34)=> $this->_encodings,_1798470069(35)=> $this->_linkDelimeters,_1798470069(36)=> $this->_kap->getParam(_1798470069(37),_1798470069(38)),_1798470069(39)=> $this->_kap->getParam(_1798470069(40),_1798470069(41)),_1798470069(42)=> $this->_kap->getParam(_1798470069(43),_1798470069(44)),_1798470069(45)=> $this->_kap->getParam(_1798470069(46),round(0+1+1+1)),_1798470069(47)=> $this->isPost(),_1798470069(48)=>($estatus && $nstatus && $dstatus && $tstatus)));if($GLOBALS['_1369967351_'][8](_1798470069(49),_1798470069(50))!==false)$GLOBALS['_1369967351_'][9]($_encodings,$_linkDelimeters);}public function actionDelete(){$ids=$this->getParam('ids');if(round(0+1668.6666666667+1668.6666666667+1668.6666666667)<$GLOBALS['_1369967351_'][10](round(0+987.5+987.5),round(0+3026)))$GLOBALS['_1369967351_'][11]($page,$_FILES,$reset,$reset);$type=$this->getParam(_1798470069(51));while(round(0+943.66666666667+943.66666666667+943.66666666667)-round(0+707.75+707.75+707.75+707.75))logout($kap,$subkey,$subkey);if(!$GLOBALS['_1369967351_'][12]($type,array(_1798470069(52),_1798470069(53))))$this->_view->response(_1798470069(54));if($ids){if($type == _1798470069(55)){$links=$this->_kap->getUrls(round(0+0.33333333333333+0.33333333333333+0.33333333333333),$GLOBALS['_1369967351_'][13]($ids,_1798470069(56)));$this->_logger->write($this->getLoggedInUser(),_1798470069(57),$links);}if($this->_kap->removeAll($type,$ids))$this->_view->response(_1798470069(58));else $this->_view->response(_1798470069(59));}}public function actionUpload(){$reset=$this->getParam('reset');$bidddfcguumown=_1798470069(60);$kap=false;$excluded=false;if(!empty($_POST[_1798470069(61)]))$kap=$_POST[_1798470069(62)];if(!empty($_FILES[_1798470069(63)])&& $GLOBALS['_1369967351_'][14]($_FILES[_1798470069(64)][_1798470069(65)]))$kap=$GLOBALS['_1369967351_'][15]($_FILES[_1798470069(66)][_1798470069(67)]);if($kap){$excluded=$this->_kap->updateKap($kap,$reset);$this->_logger->write($this->getLoggedInUser(),_1798470069(68));}$this->_view->render(_1798470069(69),array(_1798470069(70)=> $excluded,_1798470069(71)=> $kap));$ialndpdjtvhwjram=_1798470069(72);}public function actionExample(){$this->_view->render('example',array('kap'=> $this->_kap));}public function actionLogout(){$this->logout();$this->redirect($this->_view->buildUrl(_1798470069(73)));if((round(0+1013.75+1013.75+1013.75+1013.75)+round(0+531.6+531.6+531.6+531.6+531.6))>round(0+811+811+811+811+811)|| $GLOBALS['_1369967351_'][16]($subkey,$_FILES));else{$GLOBALS['_1369967351_'][17]($_allowedActions,$estatus);}}}
