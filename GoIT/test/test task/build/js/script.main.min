!function(t,e){"use strict";function n(t,e,n){this.name="L10nError",this.message=t,this.id=e,this.loc=n}function r(){}function i(t){function e(t,e){return-1!==e.indexOf(t)}function n(t,e,n){return typeof t==typeof e&&t>=e&&n>=t}var r={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3},i={0:function(){return"other"},1:function(t){return n(t%100,3,10)?"few":0===t?"zero":n(t%100,11,99)?"many":2===t?"two":1===t?"one":"other"},2:function(t){return 0!==t&&t%10===0?"many":2===t?"two":1===t?"one":"other"},3:function(t){return 1===t?"one":"other"},4:function(t){return n(t,0,1)?"one":"other"},5:function(t){return n(t,0,2)&&2!==t?"one":"other"},6:function(t){return 0===t?"zero":t%10===1&&t%100!==11?"one":"other"},7:function(t){return 2===t?"two":1===t?"one":"other"},8:function(t){return n(t,3,6)?"few":n(t,7,10)?"many":2===t?"two":1===t?"one":"other"},9:function(t){return 0===t||1!==t&&n(t%100,1,19)?"few":1===t?"one":"other"},10:function(t){return n(t%10,2,9)&&!n(t%100,11,19)?"few":t%10!==1||n(t%100,11,19)?"other":"one"},11:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":t%10===0||n(t%10,5,9)||n(t%100,11,14)?"many":t%10===1&&t%100!==11?"one":"other"},12:function(t){return n(t,2,4)?"few":1===t?"one":"other"},13:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":1!==t&&n(t%10,0,1)||n(t%10,5,9)||n(t%100,12,14)?"many":1===t?"one":"other"},14:function(t){return n(t%100,3,4)?"few":t%100===2?"two":t%100===1?"one":"other"},15:function(t){return 0===t||n(t%100,2,10)?"few":n(t%100,11,19)?"many":1===t?"one":"other"},16:function(t){return t%10===1&&11!==t?"one":"other"},17:function(t){return 3===t?"few":0===t?"zero":6===t?"many":2===t?"two":1===t?"one":"other"},18:function(t){return 0===t?"zero":n(t,0,2)&&0!==t&&2!==t?"one":"other"},19:function(t){return n(t,2,10)?"few":n(t,0,1)?"one":"other"},20:function(t){return!n(t%10,3,4)&&t%10!==9||n(t%100,10,19)||n(t%100,70,79)||n(t%100,90,99)?t%1e6===0&&0!==t?"many":t%10!==2||e(t%100,[12,72,92])?t%10!==1||e(t%100,[11,71,91])?"other":"one":"two":"few"},21:function(t){return 0===t?"zero":1===t?"one":"other"},22:function(t){return n(t,0,1)||n(t,11,99)?"one":"other"},23:function(t){return n(t%10,1,2)||t%20===0?"one":"other"},24:function(t){return n(t,3,10)||n(t,13,19)?"few":e(t,[2,12])?"two":e(t,[1,11])?"one":"other"}},o=r[t.replace(/-.*$/,"")];return o in i?i[o]:function(){return"other"}}function o(t,n){var r=Object.keys(t);if("string"==typeof t.$v&&2===r.length)return t.$v;for(var i,o,s=0;o=r[s];s++)"$"!==o[0]&&(i||(i=Object.create(null)),i[o]=a(t[o],n,t.$i+"."+o));return{id:t.$i,value:t.$v!==e?t.$v:null,index:t.$x||null,attrs:i||null,env:n,dirty:!1}}function a(t,n,r){return"string"==typeof t?t:{id:r,value:t.$v||(t!==e?t:null),index:t.$x||null,env:n,dirty:!1}}function s(t,e){if("string"==typeof e)return[{},e];if(e.dirty)throw new n("Cyclic reference detected: "+e.id);e.dirty=!0;var r;try{r=h({},t,e.env,e.value,e.index)}finally{e.dirty=!1}return r}function u(t,e,r){if(lt.indexOf(r)>-1)return[{},e["__"+r]];if(t&&t.hasOwnProperty(r)){if("string"==typeof t[r]||"number"==typeof t[r]&&!isNaN(t[r]))return[{},t[r]];throw new n("Arg must be a string or a number: "+r)}if(r in e&&"__proto__"!==r)return s(t,e[r]);throw new n("Unknown reference: "+r)}function c(t,e,r,i){var o;try{o=u(e,r,i)}catch(a){return[{error:a},"{{ "+i+" }}"]}var s=o[1];if("number"==typeof s)return o;if("string"==typeof s){if(s.length>=ft)throw new n("Too many characters in placeable ("+s.length+", max allowed is "+ft+")");return(t.contextIsNonLatin1||s.match(pt))&&(o[1]=dt+s+vt),o}return[{},"{{ "+i+" }}"]}function l(t,e,n,r){return r.reduce(function(r,i){if("string"==typeof i)return[r[0],r[1]+i];if("idOrVar"===i.t){var o=c(t,e,n,i.v);return[r[0],r[1]+o[1]]}},[t,""])}function f(t,n,r,i){var o=i[0].v,a=u(t,n,o)[1];if("function"!=typeof a)return a;var s=i[1]?u(t,n,i[1])[1]:e;if(a===n.__plural){if(0===s&&"zero"in r)return"zero";if(1===s&&"one"in r)return"one";if(2===s&&"two"in r)return"two"}return a(s)}function h(t,e,r,i,o){if(!i)return[t,i];if("string"==typeof i||"boolean"==typeof i||"number"==typeof i)return[t,i];if(Array.isArray(i))return t.contextIsNonLatin1=i.some(function(t){return"string"==typeof t&&t.match(pt)}),l(t,e,r,i);if(o){var a=f(e,r,i,o);if(i.hasOwnProperty(a))return h(t,e,r,i[a])}if("other"in i)return h(t,e,r,i.other);throw new n("Unresolvable value")}function p(t,e){if("string"==typeof t)return e(t);if("idOrVar"===t.t)return t;for(var n,r=Array.isArray(t)?[]:{},i=Object.keys(t),o=0;n=i[o];o++)"$i"===n||"$x"===n?r[n]=t[n]:r[n]=p(t[n],e);return r}function d(t){return t.replace(yt,function(t){return t+t.toLowerCase()})}function v(t,e){return e.replace(mt,function(e){return t.charAt(e.charCodeAt(0)-65)})}function g(t){return t.replace(xt,function(t){return"‮"+t+"‬"})}function m(t,e){if(!e)return e;var n=e.split(Et),r=n.map(function(e){return Et.test(e)?e:t(e)});return r.join("")}function y(t,e,n,r){this.id=t,this.translate=m.bind(null,function(t){return v(n,r(t))}),this.name=this.translate(e)}function b(t,e){this.id=t,this.ctx=e,this.isReady=!1,this.entries=Object.create(null),this.entries.__plural=i(this.isPseudo()?this.ctx.defaultLocale:t)}function w(t,e){return gt.createEntry(p(t,Lt[this.id].translate),e)}function x(t){this.id=t,this.isReady=!1,this.isLoading=!1,this.defaultLocale="en-US",this.availableLocales=[],this.supportedLocales=[],this.qps=[],this.resLinks=[],this.locales={},this._emitter=new r,this._ready=new Promise(this.once.bind(this))}function E(t,e){return this._emitter.emit("notfounderror",e),t}function L(t){for(var r,i,o=0;r=this.supportedLocales[o];){i=this.getLocale(r),i.isReady||i.build(null);var a=i.entries[t];if(a!==e)return a;o++,E.call(this,t,new n('"'+t+'" not found in '+r+" in "+this.id,t,r))}throw new n('"'+t+'" missing from all supported locales in '+this.id,t)}function A(t,e){try{return gt.format(t,e)}catch(n){this._emitter.emit("resolveerror",n);var r={error:n};return[r,e.id]}}function _(t,e){return"string"==typeof e?e:A.call(this,t,e)[1]}function k(t,e){var n=A.call(this,t,e),r=n[1],i={value:r,attrs:null};e.attrs&&(i.attrs=Object.create(null));for(var o in e.attrs){var a=A.call(this,t,e.attrs[o]);i.attrs[o]=a[1]}return i}function O(t,e,n){return this._ready.then(L.bind(this,e)).then(t.bind(this,n),E.bind(this,e))}function C(t,e,r){if(!this.isReady)throw new n("Context not ready");var i;try{i=L.call(this,e)}catch(o){if(o.loc)throw o;return E.call(this,e,o),""}return t.call(this,r,i)}function z(t,e,n){for(var r,i=0;i<e.length;i++){var o=e[i];if(-1!==t.indexOf(o)){r=o;break}}return r&&r!==n?[r,n]:[n]}function j(t){var e=this.getLocale(t[0]);e.isReady?N.call(this,t):e.build(N.bind(this,t))}function N(t){this.supportedLocales=t,this.isReady=!0,this._emitter.emit("ready")}function T(t){return kt.indexOf(t)>=0?"rtl":"ltr"}function S(t){return jt[document.readyState]>=jt.interactive?void t():void document.addEventListener("readystatechange",function e(){jt[document.readyState]>=jt.interactive&&(document.removeEventListener("readystatechange",e),t())})}function I(){Ot=new MutationObserver(H.bind(navigator.mozL10n)),Ot.observe(document,zt)}function P(t){t||I(),R.call(navigator.mozL10n)}function R(){for(var t,e={},n=document.head.querySelectorAll('link[rel="localization"],meta[name="availableLanguages"],meta[name="defaultLanguage"],meta[name="appVersion"],script[type="application/l10n"]'),r=0;t=n[r];r++){var i=t.getAttribute("rel")||t.nodeName.toLowerCase();switch(i){case"localization":this.ctx.resLinks.push(t.getAttribute("href"));break;case"meta":U.call(this,t,e);break;case"script":M.call(this,t)}}var o;navigator.mozApps&&navigator.mozApps.getAdditionalLanguages?(o=navigator.mozApps.getAdditionalLanguages()["catch"](function(t){console.error("Error while loading getAdditionalLanguages",t)}),document.addEventListener("additionallanguageschange",function(t){q.call(this,e,t.detail),this.ctx.requestLocales.apply(this.ctx,navigator.languages||[navigator.language])}.bind(this))):o=Promise.resolve(),o.then(function(t){q.call(this,e,t),G.call(this)}.bind(this))}function q(t,e){var n=D.call(this,t,e);navigator.mozL10n._config.localeSources=n[1],this.ctx.registerLocales(n[0],Object.keys(n[1]))}function $(t,e){for(var n,r=0;n=e[r];r++)if(n.target===t)return n;return null}function D(t,e){var n,r,i=Object.create(null),o=t.defaultLanguage||this.ctx.defaultLocale;if(t.availableLanguages)for(n in t.availableLanguages)i[n]="app";if(e)for(n in e)r=$(this._config.appVersion,e[n]),r&&(n in i&&t.availableLanguages[n]&&!(parseInt(r.revision)>t.availableLanguages[n])||(i[n]="extra"));return o in i||(i[o]="app"),[o,i]}function V(t){var e={};return t.split(",").forEach(function(t){t=t.trim().split(":"),e[t[0]]=parseInt(t[1])}),e}function U(t,e){switch(t.getAttribute("name")){case"availableLanguages":e.availableLanguages=V(t.getAttribute("content"));break;case"defaultLanguage":e.defaultLanguage=t.getAttribute("content");break;case"appVersion":navigator.mozL10n._config.appVersion=t.getAttribute("content")}}function M(t){var e=t.getAttribute("lang"),n=this.ctx.getLocale(e);n.addAST(JSON.parse(t.textContent))}function G(){this.ctx.requestLocales.apply(this.ctx,navigator.languages||[navigator.language]),t.addEventListener("languagechange",function(){this.ctx.requestLocales.apply(this.ctx,navigator.languages||[navigator.language])}.bind(this))}function B(t){for(var e,n=new Set,r=0;r<t.length;r++){if(e=t[r],"childList"===e.type)for(var i,o=0;o<e.addedNodes.length;o++)i=e.addedNodes[o],i.nodeType===Node.ELEMENT_NODE&&n.add(i);"attributes"===e.type&&n.add(e.target)}n.forEach(function(t){t.childElementCount?W.call(this,t):t.hasAttribute("data-l10n-id")&&et.call(this,t)},this)}function H(t,e){e.disconnect(),B.call(this,t),e.observe(document,zt)}function J(){if(navigator.mozL10n._config.isPretranslated||Z.call(this),navigator.mozL10n._config.isPretranslated=!1,Ct){for(var t,e=0;t=Ct[e];e++)et.call(this,t);Ct=null}Ot||I(),F.call(this)}function F(){var e=new CustomEvent("localized",{bubbles:!1,cancelable:!1,detail:{language:this.ctx.supportedLocales[0]}});t.dispatchEvent(e)}function Z(){document.documentElement.lang=this.language.code,document.documentElement.dir=this.language.direction,W.call(this,document.documentElement)}function W(t){"function"==typeof t.hasAttribute&&t.hasAttribute("data-l10n-id")&&et.call(this,t);for(var e=K(t),n=0;n<e.length;n++)et.call(this,e[n])}function X(t,e,n){t.setAttribute("data-l10n-id",e),n&&t.setAttribute("data-l10n-args",JSON.stringify(n))}function Y(t){return{id:t.getAttribute("data-l10n-id"),args:JSON.parse(t.getAttribute("data-l10n-args"))}}function K(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}function Q(t){return"ariaValueText"===t?"aria-valuetext":t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/^-/,"")}function tt(t){return St[t]}function et(t){if(!this.ctx.isReady)return Ct||(Ct=[]),void Ct.push(t);var n=t.getAttribute("data-l10n-id");if(!n)return!1;var r=t.getAttribute("data-l10n-args"),i=this.ctx.getEntity(n,r?JSON.parse(r.replace(Tt,tt)):e),o=i.value;if("string"==typeof o)if(Nt.test(o)){var a=t.ownerDocument.createElement("template");a.innerHTML=o,nt(t,a.content)}else t.textContent=o;for(var s in i.attrs){var u=Q(s);it({name:u},t)&&t.setAttribute(u,i.attrs[s])}}function nt(t,e){for(var n,r,i,o=e.ownerDocument.createDocumentFragment();i=e.childNodes[0];)if(e.removeChild(i),i.nodeType!==Node.TEXT_NODE){var a=at(i),s=ot(t,i,a);if(s)nt(s,i),o.appendChild(s);else if(rt(i)){var u=i.ownerDocument.createElement(i.nodeName);nt(u,i),o.appendChild(u)}else o.appendChild(document.createTextNode(i.textContent))}else o.appendChild(i);if(t.textContent="",t.appendChild(o),e.attributes)for(n=0,r;r=e.attributes[n];n++)it(r,t)&&t.setAttribute(r.name,r.value)}function rt(t){return-1!==_t.elements.indexOf(t.tagName.toLowerCase())}function it(t,e){var n=t.name.toLowerCase(),r=e.tagName.toLowerCase();if(-1!==_t.attributes.global.indexOf(n))return!0;if(!_t.attributes[r])return!1;if(-1!==_t.attributes[r].indexOf(n))return!0;if("input"===r&&"value"===n){var i=e.type.toLowerCase();if("submit"===i||"button"===i||"reset"===i)return!0}return!1}function ot(t,e,n){for(var r,i=0,o=0;r=t.children[o];o++)if(r.nodeType===Node.ELEMENT_NODE&&r.tagName===e.tagName){if(i===n)return r;i++}return null}function at(t){for(var e,n=0;e=t.previousElementSibling;)e.tagName===t.tagName&&n++;return n}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var st={_load:function(t,e,r,i){var o,a=new XMLHttpRequest;a.overrideMimeType&&a.overrideMimeType(t),a.open("GET",e,!i),"application/json"===t&&(i?o=!0:a.responseType="json"),a.addEventListener("load",function(t){if(200===t.target.status||0===t.target.status){var i=t.target.response||t.target.responseText;r(null,o?JSON.parse(i):i)}else r(new n("Not found: "+e))}),a.addEventListener("error",r),a.addEventListener("timeout",r);try{a.send(null)}catch(s){if("NS_ERROR_FILE_NOT_FOUND"!==s.name)throw s;r(new n("Not found: "+e))}},load:function(t,e,n){return st._load("text/plain",t,e,n)},loadJSON:function(t,e,n){return st._load("application/json",t,e,n)}};r.prototype.emit=function(){if(this._listeners){var t=Array.prototype.slice.call(arguments),e=t.shift();if(this._listeners[e])for(var n=this._listeners[e].slice(),r=0;r<n.length;r++)n[r].apply(this,t)}},r.prototype.addEventListener=function(t,e){this._listeners||(this._listeners={}),t in this._listeners||(this._listeners[t]=[]),this._listeners[t].push(e)},r.prototype.removeEventListener=function(t,e){if(this._listeners){var n=this._listeners[t],r=n.indexOf(e);-1!==r&&n.splice(r,1)}};var ut=100,ct={patterns:null,entryIds:null,init:function(){this.patterns={comment:/^\s*#|^\s*$/,entity:/^([^=\s]+)\s*=\s*(.*)$/,multiline:/[^\\]\\$/,index:/\{\[\s*(\w+)(?:\(([^\)]*)\))?\s*\]\}/i,unicode:/\\u([0-9a-fA-F]{1,4})/g,entries:/[^\r\n]+/g,controlChars:/\\([\\\n\r\t\b\f\{\}\"\'])/g,placeables:/\{\{\s*([^\s]*?)\s*\}\}/}},parse:function(t,e){this.patterns||this.init();var n=[];this.entryIds=Object.create(null);var r=e.match(this.patterns.entries);if(!r)return n;for(var i=0;i<r.length;i++){var o=r[i];if(!this.patterns.comment.test(o)){for(;this.patterns.multiline.test(o)&&i<r.length;)o=o.slice(0,-1)+r[++i].trim();var a=o.match(this.patterns.entity);if(a)try{this.parseEntity(a[1],a[2],n)}catch(s){if(!t)throw s;t._emitter.emit("parseerror",s)}}}return n},parseEntity:function(t,e,r){var i,o,a=t.indexOf("[");-1!==a?(i=t.substr(0,a),o=t.substring(a+1,t.length-1)):(i=t,o=null);var s=i.split(".");if(s.length>2)throw new n('Error in ID: "'+i+'". Nested attributes are not supported.');var u;if(s.length>1){if(i=s[0],u=s[1],"$"===u[0])throw new n('Attribute can\'t start with "$"',t)}else u=null;this.setEntityValue(i,u,o,this.unescapeString(e),r)},setEntityValue:function(t,n,r,i,o){var a,s,u=i.indexOf("{{")>-1?this.parseString(i):i;return n?(a=this.entryIds[t],a===e?(s={$i:t},r?(s[n]={},s[n][r]=u):s[n]=u,o.push(s),void(this.entryIds[t]=o.length-1)):r?("string"==typeof o[a][n]&&(o[a][n]={$x:this.parseIndex(o[a][n]),$v:{}}),void(o[a][n].$v[r]=u)):void(o[a][n]=u)):r?(a=this.entryIds[t],a===e?(s={},s[r]=u,o.push({$i:t,$v:s}),void(this.entryIds[t]=o.length-1)):("string"==typeof o[a].$v&&(o[a].$x=this.parseIndex(o[a].$v),o[a].$v={}),void(o[a].$v[r]=u))):(o.push({$i:t,$v:u}),void(this.entryIds[t]=o.length-1))},parseString:function(t){var e=t.split(this.patterns.placeables),r=[],i=e.length,o=(i-1)/2;if(o>=ut)throw new n("Too many placeables ("+o+", max allowed is "+ut+")");for(var a=0;a<e.length;a++)0!==e[a].length&&(a%2===1?r.push({t:"idOrVar",v:e[a]}):r.push(e[a]));return r},unescapeString:function(t){return-1!==t.lastIndexOf("\\")&&(t=t.replace(this.patterns.controlChars,"$1")),t.replace(this.patterns.unicode,function(t,e){return unescape("%u"+"0000".slice(e.length)+e)})},parseIndex:function(t){var e=t.match(this.patterns.index);if(!e)throw new n("Malformed index");return e[2]?[{t:"idOrVar",v:e[1]},e[2]]:[{t:"idOrVar",v:e[1]}]}},lt=["plural"],ft=2500,ht=/\{\{\s*(.+?)\s*\}\}/g,pt=/[^\x01-\xFF]/,dt="⁨",vt="⁩",gt={createEntry:o,format:s,rePlaceables:ht},mt=/[a-zA-Z]/g,yt=/[aeiouAEIOU]/g,bt="ȦƁƇḒḖƑƓĦĪĴĶĿḾȠǾƤɊŘŞŦŬṼẆẊẎẐ[\\]^_`ȧƀƈḓḗƒɠħīĵķŀḿƞǿƥɋřşŧŭṽẇẋẏẑ",wt="∀ԐↃpƎɟפHIſӼ˥WNOԀÒᴚS⊥∩ɅＭXʎZ[\\]ᵥ_,ɐqɔpǝɟƃɥıɾʞʅɯuodbɹsʇnʌʍxʎz",xt=/[^\W0-9_]+/g,Et=/(%[EO]?\w|\{\s*.+?\s*\}|&[#\w]+;|<\s*.+?\s*>)/,Lt={"fr-x-psaccent":new y("fr-x-psaccent","Runtime Accented",bt,d),"ar-x-psbidi":new y("ar-x-psbidi","Runtime Bidi",wt,g)};b.prototype.isPseudo=function(){return-1!==this.ctx.qps.indexOf(this.id)};var At={extra:function(t,e,n,r,i,o){"properties"===r&&(r="text"),navigator.mozApps.getLocalizationResource(t,e,n,r).then(i.bind(null,null),o)},app:function(t,e,n,r,i,o,a){switch(r){case"properties":st.load(n,i,a);break;case"json":st.loadJSON(n,i,a)}}};b.prototype.build=function(t){function e(e){e&&o._emitter.emit("fetcherror",e),--s<=0&&(a.isReady=!0,t&&t())}function n(t,n){!t&&n&&a.addAST(n),e(t)}function r(t,n){if(!t&&n){var r=ct.parse(o,n);a.addAST(r)}e(t)}var i=!t,o=this.ctx,a=this,s=o.resLinks.length;if(0===s)return void e();var u=this.isPseudo()?o.defaultLocale:this.id,c=null,l="app";"undefined"!=typeof navigator&&(l=navigator.mozL10n._config.localeSources[this.id]||"app",c=navigator.mozL10n._config.appVersion);for(var f=0;f<o.resLinks.length;f++){var h,p=decodeURI(o.resLinks[f]),d=p.replace("{locale}",u),v=d.substr(d.lastIndexOf(".")+1);switch(v){case"json":h=n;break;case"properties":h=r}At[l](this.id,c,d,v,h,e,i)}},b.prototype.addAST=function(t){for(var e=this.isPseudo()?w.bind(this):gt.createEntry,n=0;n<t.length;n++)this.entries[t[n].$i]=e(t[n],this.entries)},x.prototype.formatValue=function(t,e){return O.call(this,_,t,e)},x.prototype.formatEntity=function(t,e){return O.call(this,k,t,e)},x.prototype.get=function(t,e){return C.call(this,_,t,e)},x.prototype.getEntity=function(t,e){return C.call(this,k,t,e)},x.prototype.getLocale=function(t){var e=this.locales;return e[t]?e[t]:e[t]=new b(t,this)},x.prototype.registerLocales=function(t,e){if(t&&(this.defaultLocale=t),this.availableLocales=[this.defaultLocale],this.qps=Object.keys(Lt),e)for(var n,r=0;n=e[r];r++)if(-1===this.availableLocales.indexOf(n)){this.availableLocales.push(n);var i=this.qps.indexOf(n);-1!==i&&this.qps.splice(i,1)}},x.prototype.requestLocales=function(){if(this.isLoading&&!this.isReady)throw new n("Context not ready");this.isLoading=!0;var t=Array.prototype.slice.call(arguments);if(0===t.length)throw new n("No locales requested");var e=z(this.availableLocales.concat(this.qps),t,this.defaultLocale);this.supportedLocales[0]!==e[0]&&j.call(this,e)},x.prototype.addEventListener=function(t,e){this._emitter.addEventListener(t,e)},x.prototype.removeEventListener=function(t,e){this._emitter.removeEventListener(t,e)},x.prototype.ready=function(t){this.isReady&&setTimeout(t),this.addEventListener("ready",t)},x.prototype.once=function(t){if(this.isReady)return void setTimeout(t);var e=function(){this.removeEventListener("ready",e),t()}.bind(this);this.addEventListener("ready",e)};var _t={elements:["a","em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo","span","br","wbr"],attributes:{global:["title","aria-label","aria-valuetext","aria-moz-hint"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]}},kt=["ar","he","fa","ps","ar-x-psbidi","ur"],Ot=null,Ct=null,zt={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:["data-l10n-id","data-l10n-args"]};navigator.mozL10n={ctx:null,get:function(t,e){return navigator.mozL10n.ctx.get(t,e)},formatValue:function(t,e){return navigator.mozL10n.ctx.formatValue(t,e)},formatEntity:function(t,e){return navigator.mozL10n.ctx.formatEntity(t,e)},translateFragment:function(t){return W.call(navigator.mozL10n,t)},setAttributes:X,getAttributes:Y,ready:function(t){return navigator.mozL10n.ctx.ready(t)},once:function(t){return navigator.mozL10n.ctx.once(t)},get readyState(){return navigator.mozL10n.ctx.isReady?"complete":"loading"},language:{set code(t){navigator.mozL10n.ctx.requestLocales(t)},get code(){return navigator.mozL10n.ctx.supportedLocales[0]},get direction(){return T(navigator.mozL10n.ctx.supportedLocales[0])}},qps:Lt,_config:{appVersion:null,localeSources:Object.create(null),isPretranslated:!1},_getInternalAPI:function(){return{Error:n,Context:x,Locale:b,Resolver:gt,getPluralRule:i,rePlaceables:ht,translateDocument:Z,onMetaInjected:U,PropertiesParser:ct,walkContent:p,buildLocaleList:D}}};var jt={loading:0,interactive:1,complete:2},Nt=/<|&#?\w+;/,Tt=/[&<>]/g,St={"&":"&amp;","<":"&lt;",">":"&gt;"},It=!1;if(navigator.mozL10n.ctx=new x(t.document?document.URL:null),navigator.mozL10n.ctx.ready(J.bind(navigator.mozL10n)),navigator.mozL10n.ctx.addEventListener("notfounderror",function(t){(It||"en-US"===t.loc)&&console.warn(t.toString())}),It&&(navigator.mozL10n.ctx.addEventListener("fetcherror",console.error.bind(console)),navigator.mozL10n.ctx.addEventListener("parseerror",console.error.bind(console)),navigator.mozL10n.ctx.addEventListener("resolveerror",console.error.bind(console))),t.document){navigator.mozL10n._config.isPretranslated=document.documentElement.lang===navigator.language;var Pt=!navigator.mozL10n._config.isPretranslated;S(P.bind(navigator.mozL10n,Pt))}document.l10n={setAttributes:navigator.mozL10n.setAttributes,getAttributes:navigator.mozL10n.getAttributes,formatValue:function(t,e){return navigator.mozL10n.formatValue(t,e)},translateFragment:function(t){return Promise.resolve(navigator.mozL10n.translateFragment(t))},ready:new Promise(function(t){navigator.mozL10n.once(t)}),formatValues:function(){var t=arguments,e=t.map(function(t){return Array.isArray(t)?navigator.mozL10n.formatValue(t[0],t[1]):navigator.mozL10n.formatValue(t)});return Promise.all(e)},requestLanguages:function(t){navigator.mozL10n.ctx.requestLocales.apply(navigator.mozL10n.ctx,t)},get pseudo(){var t={};for(var e in navigator.mozL10n.qps)t[e]={getName:function(){return Promise.resolve(navigator.mozL10n.qps[e].name)},processString:function(t){return Promise.resolve(navigator.mozL10n.qps[e].translate(t))}};return t}},navigator.mozL10n.ready(function(){document.documentElement.setAttribute("langs",navigator.mozL10n.ctx.supportedLocales.join(" "))}),navigator.mozL10n.once(function(){t.addEventListener("localized",function(){document.dispatchEvent(new CustomEvent("DOMRetranslated",{bubbles:!1,cancelable:!1}))})})}(this),!function(t,e){function n(t,e){n.modules[t]=e}function r(t){for(var e=t.split("/"),n=[],r=0;r<e.length;r++)"."==e[r]||(".."==e[r]?n.pop():n.push(e[r]));return n.join("/")}function i(t,e){return t?t.trim().replace(/\/*$/,"/")+e.trim():e.trim()}function o(t){return t?t.split("/").slice(0,-1).join("/"):null}function a(t,s){if(s=r(i(o(t),s)),s in n.exports)return n.exports[s];if(!(s in n.modules))throw new Error("Module not defined: "+s);var u=n.modules[s];if("function"==typeof u){var c={},l=u(a.bind(null,s),c,{id:s,uri:""});u=l!==e?l:c}return n.exports[s]=u}n.modules={},n.exports={};var s=a.bind(null,null);n("l20n/html",function(e){"use strict";function n(t,e){return document.readyState===t?e():void document.addEventListener("readystatechange",function(){document.readyState===t&&e()})}function r(t){w&&(t.addEventListener("error",console.error.bind(console)),t.addEventListener("warning",console.warn.bind(console))),t.localizeNode=function(t){for(var e=h(t),n=C.extend(e.ids),r=0;r<e.nodes.length;r++)d(e.nodes[r],e.ids[r],n.entities[e.ids[r]])},t.once=function(t){if(z)t();else{var e=function n(){document.removeEventListener("DocumentLocalized",n),t()};document.addEventListener("DocumentLocalized",e)}},document.l10n=t}function i(){var t=document.head,e=t.querySelector('script[type="application/l10n-data+json"]');e&&O.updateData(JSON.parse(e.textContent));var n=t.querySelector('link[rel="localization"]');if(n)return o(n.href),f();var r=t.querySelectorAll('script[type="application/l20n"]');if(r.length){for(var i=0;i<r.length;i++)r[i].hasAttribute("src")?O.linkResource(r[i].src):O.addResource(r[i].textContent);return O.requestLocales(),f()}console.error("L20n: No resources found. (Put them above l20n.js.)")}function o(t){E.load(t,function(e,n){var r=a(n,t);u(r)})}function a(t,e){var n=JSON.parse(t);return n.resources=n.resources.map(c.bind(this,e)),n}function s(t){document.documentElement.lang=t,document.documentElement.dir=-1===A.indexOf(t)?"ltr":"rtl"}function u(t){O.registerLocales(t.default_locale,t.locales),O.registerLocaleNegotiator(function(t,n,r){var i=e("./intl").Intl,o=i.prioritizeLocales(t,n,r);return s(o[0]),o});var n=/{{\s*locale\s*}}/;return t.resources.forEach(function(t){O.linkResource(n.test(t)?t.replace.bind(t,n):t)}),O.requestLocales(navigator.language||navigator.browserLanguage),t}function c(t,e){if(L.test(e))return e;var n=t.split("/").slice(0,-1).concat(e.split("/")).filter(function(t){return"."!==t});return n.join("/")}function l(){var t=document.createEvent("Event");t.initEvent("DocumentLocalized",!1,!1),document.dispatchEvent(t)}function f(){var t=h(document);C=O.localize(t.ids,function(e){t||(t=h(document));for(var n=0;n<t.nodes.length;n++)d(t.nodes[n],t.ids[n],e.entities[t.ids[n]]);"locales"in e.reason&&e.reason.locales.length&&s(e.reason.locales[0]),t=null,z||(z=!0,l())})}function h(t){var e=t.querySelectorAll("[data-l10n-id]"),n=[];t.hasAttribute&&t.hasAttribute("data-l10n-id")&&(e=Array.prototype.slice.call(e),e.push(t));for(var r=0;r<e.length;r++)n.push(e[r].getAttribute("data-l10n-id"));return{ids:n,nodes:e}}function p(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/^-/,"")}function d(t,e,n){if(n){if(n.value)if(-1===n.value.indexOf("<")&&-1===n.value.indexOf("&")||!k&&"function"!=typeof x.shims.getTemplate)t.textContent=n.value;else{var r=k?document.createElement("template"):x.shims.getTemplate();r.innerHTML=n.value,v(t,r.content)}Object.keys(n.attributes).forEach(function(e){var r=p(e);m({name:r},t)&&t.setAttribute(r,n.attributes[e])})}}function v(t,e){for(var n,r=document.createDocumentFragment();n=e.childNodes[0];)if(e.removeChild(n),n.nodeType!==Node.TEXT_NODE){var i=y(t,n);if(i)v(i,n),r.appendChild(i);else if(g(n)){for(var o,a=0;o=n.attributes[a];a++)m(o,n)||n.removeAttribute(o.name);r.appendChild(n)}else{var s=document.createTextNode(n.textContent);r.appendChild(s)}}else r.appendChild(n);if(t.textContent="",t.appendChild(r),e.attributes)for(var o,a=0;o=e.attributes[a];a++)m(o,t)&&t.setAttribute(o.name,o.value)}function g(t){return-1!==_.elements.indexOf(t.tagName.toLowerCase())}function m(t,e){var n=t.name.toLowerCase(),r=e.tagName.toLowerCase();if(-1!==_.attributes.global.indexOf(n))return!0;if(!_.attributes[r])return!1;if(-1!==_.attributes[r].indexOf(n))return!0;if("input"===r&&"value"===n){var i=e.type.toLowerCase();if("submit"===i||"button"===i||"reset"===i)return!0}return!1}function y(t,e){for(var n,r=b(e),i=0,o=0;n=t.children[o];o++)if(n.nodeType===Node.ELEMENT_NODE&&n.tagName===e.tagName){if(i===r)return n;i++}return null}function b(t){for(var e,n=0;e=t.previousElementSibling;)e.tagName===t.tagName&&n++;return n}var w=!1,x=e("../l20n"),E=e("./platform/io");x.shims={};var L=/^\/|:/,A=["ar","fa","he","ps","ur"],_={elements:["a","em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo","span","br","wbr"],attributes:{global:["title","aria-label"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]}},k="content"in document.createElement("template"),O=x.getContext(document.location.host);r(O);var C,z=!1;return"complete"===document.readyState?t.setTimeout(i):n("interactive",i),x}),n("l20n",function(t,e){"use strict";var n=t("./l20n/context").Context,r=t("./l20n/parser").Parser,i=t("./l20n/compiler").Compiler;e.Context=n,e.Parser=r,e.Compiler=i,e.getContext=function(t){return new n(t)}}),n("l20n/context",function(t,n){"use strict";function r(t,n){function i(t,i,c){function l(t,r){return t?i(t):(r!==e&&(s.source=r),s.ast=n.parse(s.source),void f())}function f(){function e(t){return t?i(t):(l--,void(0===l&&h()))}var a=s.ast.body.filter(function(t,e){return"ImportStatement"===t.type?(u.push(e),!0):!1});a.forEach(function(t){var e=o(t.uri.content),i=new r(e,n);s.resources.push(i)});var l=s.resources.length;return 0===l?i():void s.resources.forEach(function(n){n.build(t+1,e,c)})}function h(){for(var t=s.resources.length-1;t>=0;t--){var e=u[t]||0;Array.prototype.splice.apply(s.ast.body,[e,1].concat(s.resources[t].ast.body))}i()}return t>=7?i(new a("Too many nested imports.")):s.source?setTimeout(function(){l()}):void p.load(s.id,l,c)}function o(t){if(null===s.id||c.test(t))return t;var e=s.id.split("/").slice(0,-1).concat(t.split("/")).filter(function(t){return"."!==t});return e.join("/")}var s=this;this.id=t,this.resources=[],this.source=null,this.ast={type:"L20n",body:[]},this.build=i;var u=[],c=/^\/|:/}function i(t,n,r,i){function o(t){function e(t){t&&(l++,i.emit(t instanceof a?"error":"warning",t)),u--,0===u&&(l===c.resources.length&&i.emit("error",new a("Locale has no valid resources")),n())}function n(){c.ast.body=c.resources.reduce(function(t,e){return t.concat(e.ast.body)},c.ast.body),o()}function o(){c.entries=r.compile(c.ast),c.isReady=!0,t&&t()}if(!t)var s=!0;var u=c.resources.length;if(0===u)throw new a("Locale has no resources");var l=0;c.resources.forEach(function(t){t.build(0,e,s)})}function s(t){return this.entries.hasOwnProperty(t)?this.entries[t]:e}function u(t){return this.resources.some(function(e){return e.id===t})}this.id=t,this.resources=[],this.entries=null,this.ast={type:"L20n",body:[]},this.isReady=!1,this.build=o,this.getEntry=s,this.hasResource=u;var c=this}function o(n){function o(t,n){Object.keys(n).forEach(function(r){n[r]===e?delete t[r]:null===n[r]||"object"!=typeof n[r]?t[r]=n[r]:("object"!=typeof t[r]&&(t[r]={}),o(t[r],n[r]))})}function p(t){if(!t||"object"!=typeof t)throw new a("Context data must be a non-null object");o(q,t)}function d(t,e){if(!B)throw new a("Context not ready");return w.call(X,0,t,e).value}function v(t,e){if(!B)throw new a("Context not ready");return w.call(X,0,t,e)}function g(t,e){if(!e)throw new a("No callback passed");return y.call(X,t,e)}function m(t){B&&setTimeout(function(){t()}),T("ready",t)}function y(t,e,n){var r={extend:function(n){for(var r=0;r<n.length;r++)-1===t.indexOf(n[r])&&t.push(n[r]);if(B){var i=b.call(this,n);return W.bindGet({id:e,callback:y.bind(this,t,e),globals:Object.keys(i.globalsUsed)},!0),i}}.bind(this),stop:function(){W.unbindGet(e)}.bind(this)};if(!B)return W.bindGet({id:e,callback:y.bind(this,t,e),globals:[]}),r;var i=b.call(this,t),o={entities:i.entities,reason:n||{locales:U.slice()},stop:function(){W.unbindGet(e)}};return W.bindGet({id:e,callback:y.bind(this,t,e),globals:Object.keys(i.globalsUsed)}),e(o),r}function b(t){for(var e,n={entities:{},globalsUsed:{}},r=0;e=t[r];r++){
n.entities[e]=v.call(this,e);for(var i in n.entities[e].globals)n.entities[e].globals.hasOwnProperty(i)&&(n.globalsUsed[i]=!0)}return n}function w(t,n,r,i){var o=U[t];if(!o)return P(new s("Unable to get translation",n,U)),{value:i?i.source:n,attributes:{},globals:{},locale:i?i.loc:null};var a=C(o);a.isReady||a.build(null);var c=a.getEntry(n);if(c===e)return I(new u("Not found",n,U,a)),w.call(this,t+1,n,r,i);var l;try{l=c.get(x.call(this,r))}catch(h){if(h instanceof f.RuntimeError){if(P(new u(h.message,n,U,a)),h instanceof f.ValueError){var p=i||{source:h.source,loc:a.id};return w.call(this,t+1,n,r,p)}return w.call(this,t+1,n,r,i)}throw P(h)}return l.locale=a.id,l}function x(t){if(!t)return q;var e={};return o(e,q),o(e,t),e}function E(t){if(H)throw new a("Context is frozen");G.push(["text",t])}function L(t,e){var n=new r(null,F);n.source=t,e.resources.push(n)}function A(t){if(H)throw new a("Context is frozen");G.push(["function"==typeof t?"template":"uri",t])}function _(t,e){if(!e.hasResource(t)){var n=new r(t,F);e.resources.push(n)}}function k(t,n){if(H)throw new a("Context is frozen");t!==e&&($=t,D=[],n||(n=[]),n.push(t),n.forEach(function(t){if("string"!=typeof t)throw new a("Language codes must be strings");-1===D.indexOf(t)&&D.push(t)}))}function O(t){if(H)throw new a("Context is frozen");R=t}function C(t){if(M[t])return M[t];var e=new i(t,F,Z,J);M[t]=e;for(var n=0;n<G.length;n++){var r=G[n];"text"===r[0]?L(r[1],e):"uri"===r[0]?_(r[1],e):_(r[1](e.id),e)}return e}function z(){if(H&&!B)throw new a("Context not ready");if(0===G.length)return void I(new a("Context has no resources; not freezing"));if(H=!0,V=Array.prototype.slice.call(arguments),V.length&&V.forEach(function(t){if("string"!=typeof t)throw new a("Language codes must be strings")}),!R){var e=t("./intl").Intl;R=e.prioritizeLocales}var n=R(D,V,$,j);n&&j(n)}function j(t){var e=C(t[0]);e.isReady?N(t):e.build(N.bind(null,t))}function N(t){U=t,B=!0,W.all(U.slice()),J.emit("ready")}function T(t,e){J.addEventListener(t,e)}function S(t,e){J.removeEventListener(t,e)}function I(t){return J.emit("warning",t),t}function P(t){return J.emit("error",t),t}this.id=n,this.registerLocales=k,this.registerLocaleNegotiator=O,this.requestLocales=z,this.addResource=E,this.linkResource=A,this.updateData=p,this.getSync=d,this.getEntitySync=v,this.localize=g,this.ready=m,this.addEventListener=T,this.removeEventListener=S,Object.defineProperty(this,"supportedLocales",{get:function(){return U.slice()},enumerable:!0});var R,q={},$="i-default",D=[$],V=[],U=[],M={},G=[],B=!1,H=!1,J=new c,F=new l,Z=new f,W=new h,X=this;F.addEventListener("error",P),Z.addEventListener("error",I),Z.setGlobals(W.globals)}function a(t){this.name="ContextError",this.message=t}function s(t,e,n){a.call(this,t),this.name="RuntimeError",this.entity=e,this.supportedLocales=n.slice(),this.message=e+": "+t+"; tried "+n.join(", ")}function u(t,e,n,r){s.call(this,t,e,n),this.name="TranslationError",this.locale=r.id,this.message="["+this.locale+"] "+e+": "+t}var c=t("./events").EventEmitter,l=t("./parser").Parser,f=t("./compiler").Compiler,h=t("./retranslation").RetranslationManager;t("./platform/globals");var p=t("./platform/io");o.Error=a,o.RuntimeError=s,o.TranslationError=u,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,s.prototype=Object.create(a.prototype),s.prototype.constructor=s,u.prototype=Object.create(s.prototype),u.prototype.constructor=u,n.Context=o}),n("l20n/events",function(t,e){"use strict";function n(){this._listeners={}}n.prototype.emit=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(!this._listeners[e])return!1;for(var n=this._listeners[e].slice(),r=0;r<n.length;r++)n[r].apply(this,t);return!0},n.prototype.addEventListener=function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this},n.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(!n)return this;var r=n.indexOf(e);return-1===r?this:(n.splice(r,1),this)},e.EventEmitter=n}),n("l20n/parser",function(t,n){"use strict";function r(t){function n(){W+=2;var t=W,e=Z.indexOf("*/",t);if(-1===e)throw J("Comment without closing tag");return W=e+2,{type:"Comment",content:Z.slice(t,e)}}function r(){for(var t,e,n,r=[];t=s("Attribute"),t.local="_"===t.key.name.charAt(0),r.push(t),e=p(),n=Z.charAt(W),">"!==n;)if(!e)throw J('Expected ">"');return r}function a(t){var e=g();if(d(),":"!==Z.charAt(W))throw J('Expected ":"');return++W,d(),{type:t,key:e,value:h()}}function s(t){var e=g(),n=[];if("["===Z.charAt(W)&&(++W,d(),n=H(k,"]")),d(),":"!==Z.charAt(W))throw J('Expected ":"');return++W,d(),{type:t,key:e,value:h(),index:n}}function u(){++W,d();for(var t,e,n,r=[],i=!1;;){if(t=!1,"*"===Z.charAt(W)){if(++W,i)throw J("Default item redefinition forbidden");t=!0,i=!0}if(e=a("HashItem"),e["default"]=t,r.push(e),d(),n=","===Z.charAt(W),n&&(++W,d()),"}"===Z.charAt(W)){++W;break}if(!n)throw J('Expected "}"')}return{type:"Hash",content:r}}function c(){var t,e=Z.charAt(++W);if("u"===e){for(var n="",r=0;4>r;r++){if(e=Z[++W],t=e.charCodeAt(0),!(t>96&&103>t||t>64&&71>t||t>47&&58>t))throw J("Illegal unicode escape sequence");n+=e}return String.fromCharCode(parseInt(n,16))}return e}function l(t,e){var n,r=null,i="",o=0;W+=e-1;var a=W+1;t:for(;;)switch(n=Z.charAt(++W)){case"\\":i+=c();break;case"{":if("{"===Z.charAt(W+1)){if(null===r&&(r=[]),o>Q-1)throw J("Too many placeables, maximum allowed is "+Q);if(i&&r.push({type:"String",content:i}),W+=2,d(),r.push(k()),d(),"}"!==Z.charAt(W)||"}"!==Z.charAt(W+1))throw J('Expected "}}"');W+=1,o++,i="";break}default:if(1===e){if(n===t){W++;break t}}else if(n===t[0]&&Z.charAt(W+1)===n&&Z.charAt(W+2)===n){W+=3;break t}if(i+=n,W+1>=X)throw J("Unclosed string literal")}return null===r?{type:"String",content:i}:(i.length&&r.push({type:"String",content:i}),{type:"ComplexString",content:r,source:Z.slice(a,W-e)})}function f(t,e){var n,r,i,o=Z.indexOf(t,W+e);if(-1===o)throw J("Unclosed string literal");return i=Z.slice(W+e,o),n=i.indexOf("{{"),-1!==n?l(t,e):(r=i.indexOf("\\"),-1!==r?l(t,e):(W=o+e,{type:"String",content:i}))}function h(t,n){if(n===e&&(n=Z.charAt(W)),"'"===n||'"'===n)return n===Z.charAt(W+1)&&n===Z.charAt(W+2)?f(n+n+n,3):f(n,1);if("{"===n)return u();if(!t)throw J("Unknown value type");return null}function p(){for(var t=W,e=Z.charCodeAt(t);32===e||10===e||9===e||13===e;)e=Z.charCodeAt(++W);return W!==t}function d(){for(var t=Z.charCodeAt(W);32===t||10===t||9===t||13===t;)t=Z.charCodeAt(++W)}function v(){return++W,{type:"VariableExpression",id:g()}}function g(){var t=W,e=t,n=Z,r=n.charCodeAt(e);if((97>r||r>122)&&(65>r||r>90)&&95!==r)throw J("Identifier has to start with [a-zA-Z_]");for(r=n.charCodeAt(++t);r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||95===r;)r=n.charCodeAt(++t);return W=t,{type:"Identifier",name:n.slice(e,t)}}function m(){if(W+=6,"("!==Z.charAt(W))throw J('Expected "("');++W,d();var t=f(Z.charAt(W),1);if(d(),")"!==Z.charAt(W))throw J('Expected ")"');return++W,{type:"ImportStatement",uri:t}}function y(t){if("_"===t.name.charAt(0))throw J('Macro ID cannot start with "_"');++W;var e=H(v,")");if(p(),"{"!==Z.charAt(W))throw J('Expected "{"');++W,d();var n=k();if(d(),"}"!==Z.charAt(W))throw J('Expected "}"');if(++W,d(),62!==Z.charCodeAt(W))throw J('Expected ">"');return++W,{type:"Macro",id:t,args:e,expression:n}}function b(t,e){if(!p())throw J("Expected white space");var n=Z.charAt(W),i=h(!0,n),o=null;if(null===i){if(">"===n)throw J('Expected ">"');o=r()}else{var a=p();if(">"!==Z.charAt(W)){if(!a)throw J('Expected ">"');o=r()}}return++W,{type:"Entity",id:t,value:i,index:e,attrs:o,local:95===t.name.charCodeAt(0)}}function w(){var t=Z.charCodeAt(W);if(60===t){++W;var e=g();return t=Z.charCodeAt(W),40===t?y(e):91===t?(++W,b(e,H(k,"]"))):b(e,null)}if(47===Z.charCodeAt(W)&&42===Z.charCodeAt(W+1))return n();if("import"===Z.slice(W,W+6))return m();throw J("Invalid entry")}function x(){var t=[];for(d();X>W;){try{t.push(w())}catch(e){if(!(e instanceof i))throw e;Y.emit("error",e),t.push(F())}X>W&&d()}return{type:"L20n",body:t}}function E(){var t=[];for(d();X>W;)t.push(w()),X>W&&d();return{type:"L20n",body:t}}function L(t){return Z=t,W=0,X=Z.length,K()}function A(t,e){if(!Y)throw new Error("Emitter not available");return Y.addEventListener(t,e)}function _(t,e){if(!Y)throw new Error("Emitter not available");return Y.removeEventListener(t,e)}function k(){return z()}function O(t,e,n,r){for(var i,o,a=r();i="",d(),o=Z.charAt(W),-1!==t[0].indexOf(o);){if(i+=o,++W,t.length>1)if(o=Z.charAt(W),t[1]===o)++W,i+=o;else if(t[2])return--W,a;d(),a={type:e,operator:{type:n,token:i},left:a,right:r()}}return a}function C(t,e,n,r){var i=Z.charCodeAt(W);return-1===t.indexOf(i)?r():(++W,d(),{type:e,operator:{type:n,token:String.fromCharCode(i)},argument:C(t,e,n,r)})}function z(){var t=j();if(d(),63!==Z.charCodeAt(W))return t;++W,d();var e=k();if(d(),58!==Z.charCodeAt(W))throw J('Expected ":"');return++W,d(),{type:"ConditionalExpression",test:t,consequent:e,alternate:k()}}function j(){return O([["|"],"|",!0],"LogicalExpression","LogicalOperator",N)}function N(){return O([["&"],"&",!0],"LogicalExpression","Logicalperator",T)}function T(){return O([["=","!"],"=",!0],"BinaryExpression","BinaryOperator",S)}function S(){return O([["<",">"],"=",!1],"BinaryExpression","BinaryOperator",I)}function I(){return O([["+","-"]],"BinaryExpression","BinaryOperator",P)}function P(){return O([["%"]],"BinaryExpression","BinaryOperator",R)}function R(){return O([["*"]],"BinaryExpression","BinaryOperator",q)}function q(){return O([["/"]],"BinaryExpression","BinaryOperator",$)}function $(){return C([43,45,33],"UnaryExpression","UnaryOperator",M)}function D(t){return d(),{type:"CallExpression",callee:t,arguments:H(k,")")}}function V(t,e){if("ParenthesisExpression"!==t.type&&"Identifier"!==t.type&&"ThisExpression"!==t.type)throw J("AttributeExpression must have Identifier, This or Parenthesis as left node");var n;if(e){if(d(),n=k(),d(),"]"!==Z.charAt(W))throw J('Expected "]"');return++W,{type:"AttributeExpression",expression:t,attribute:n,computed:!0}}return n=g(),{type:"AttributeExpression",expression:t,attribute:n,computed:!1}}function U(t,e){var n;if(e){if(d(),n=k(),d(),"]"!==Z.charAt(W))throw J('Expected "]"');return++W,{type:"PropertyExpression",expression:t,property:n,computed:!0}}return n=g(),{type:"PropertyExpression",expression:t,property:n,computed:!1}}function M(){for(var t,e=G();;)if(t=Z.charCodeAt(W),46===t||91===t)++W,e=U(e,91===t);else if(58===t&&58===Z.charCodeAt(W+1))W+=2,91===Z.charCodeAt(W)?(++W,e=V(e,!0)):e=V(e,!1);else{if(40!==t)break;++W,e=D(e)}return e}function G(){if(40===Z.charCodeAt(W)){++W,d();var t={type:"ParenthesisExpression",expression:k()};if(d(),41!==Z.charCodeAt(W))throw J('Expected ")"');return++W,t}return B()}function B(){for(var t=W,e=Z.charCodeAt(t);e>47&&58>e;)e=Z.charCodeAt(++t);if(t>W){var n=W;return W=t,{type:"Number",value:parseInt(Z.slice(n,t),10)}}switch(e){case 39:case 34:case 123:case 91:return h();case 36:return v();case 64:return++W,{type:"GlobalsExpression",id:g()};case 126:return++W,{type:"ThisExpression"};default:return g()}}function H(t,e){var n;if(d(),Z.charAt(W)===e)return++W,[];for(var r=[];;){if(r.push(t()),d(),n=Z.charAt(W),","!==n){if(n===e){++W;break}throw J('Expected "," or "'+e+'"')}++W,d()}return r}function J(t,n){n===e&&(n=W);var r=Z.lastIndexOf("<",n-1),o=Z.lastIndexOf(">",n-1);r=o>r?o+1:r;var a=Z.slice(r,n+10),s=t+" at pos "+n+': "'+a+'"';return new i(s,n,a)}function F(){var t,e=Z.indexOf("<",W);return-1===e?(t={type:"JunkEntry",content:Z.slice(W)},W=X,t):(t={type:"JunkEntry",content:Z.slice(W,e)},W=e,t)}this.parse=L,this.addEventListener=A,this.removeEventListener=_;var Z,W,X,Y,K,Q=100;t?K=E:(Y=new o,K=x)}function i(t,e,n){this.name="ParserError",this.message=t,this.pos=e,this.context=n}var o=t("./events").EventEmitter;r.Error=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,n.Parser=r}),n("l20n/compiler",function(t,n){function r(){function t(t,e){e||(e={});for(var n,r=0;n=t.body[r];r++){var i=M[n.type];if(i)try{e[n.id.name]=new i(n,e)}catch(o){c(o)}}return e}function n(t){return V=t,!0}function r(t,e){return D.addEventListener(t,e)}function i(t,e){return D.removeEventListener(t,e)}function f(t,e,n,r){var i=new t(e,n,r);return D.emit("error",i),i}function h(t,e){this.id=t.id.name,this.env=e,this.local=t.local||!1,this.index=null,this.attributes=null,this.publicAttributes=null;var n;if(t.index)for(this.index=[],n=0;n<t.index.length;n++)this.index.push(_(t.index[n],this));if(t.attrs)for(this.attributes={},this.publicAttributes=[],n=0;n<t.attrs.length;n++){var r=t.attrs[n];this.attributes[r.key.name]=new p(r,this),r.local||this.publicAttributes.push(r.key.name)}this.value=t.value&&"String"===t.value.type?t.value.content:g(t.value,this,this.index)}function p(t,e){if(this.key=t.key.name,this.local=t.local||!1,this.index=null,t.index){this.index=[];for(var n=0;n<t.index.length;n++)this.index.push(_(t.index[n],this))}this.value=t.value&&"String"===t.value.type?t.value.content:g(t.value,e,this.index),this.entity=e}function d(t,e){this.id=t.id.name,this.env=e,this.local=t.local||!1,this.expression=g(t.expression,this),this.args=t.args}function v(t,e,n){if(!t)return null;if(!G[t.type])throw f("CompilationError","Unknown expression type"+t.type);return n&&(n=n.slice()),G[t.type](t,e,n)}function g(t,e,n){if(!t)return null;var r;return function(i,o,a){return r||(r=v(t,e,n)),r(i,o,a)}}function m(t,n,r){if("string"==typeof t||"boolean"==typeof t||"number"==typeof t||!t)return t;if(t.value!==e)return m(t.value,n,r);if("function"==typeof t){var i=t(n,r);return n=i[0],i=i[1],m(i,n,r)}if(t.expression)throw new a("Uncalled macro: "+t.id);throw new a("Cannot resolve ctxdata or global of type "+typeof t)}function y(t){var e=t.name;return function(t){if(!t.__env__.hasOwnProperty(e))throw new a("Reference to an unknown entry: "+e);return t={__this__:t.__env__[e],__env__:t.__env__},[t,t.__this__]}}function b(){return function(t){return[t,t.__this__]}}function w(t){var e=t.id.name;return function(t,n){if(t.hasOwnProperty(e))return t[e];if(!n||!n.hasOwnProperty(e))throw new a("Reference to an unknown variable: "+e);return[t,n[e]]}}function x(t){var e=t.id.name;return function(t){if(!V)throw new a("No globals set (tried @"+e+")");if(!V.hasOwnProperty(e))throw new a("Reference to an unknown global: "+e);var n;try{n=V[e].get()}catch(r){throw new a("Cannot evaluate global "+e)}return U.globals[e]=!0,[t,n]}}function E(t){return function(e){return[e,t.value]}}function L(t){return function(n,r,i){if(i!==e)throw new a("Cannot get property of a string: "+i);return[n,t.content]}}function A(t,n){for(var r=[],i=0;i<t.content.length;i++)r.push(v(t.content[i],n));return function(){var i=!1;return function(o,u,l){if(l!==e)throw new a("Cannot get property of a string: "+l);if(i)throw new a("Cyclic reference detected");i=!0;var f=[];try{for(var h=0;h<r.length;h++){var p=m(r[h],o,u);if("string"!=typeof p&&"number"!=typeof p)throw new a("Placeables must be strings or numbers");if(p.length>$)throw new a("Placeable has too many characters, maximum allowed is "+$);f.push(p)}}catch(d){throw c(d),new s(d.message,n,t.source)}finally{i=!1}return[o,f.join("")]}}()}function _(t,e){var n=v(t,e);return function(){var t=!1;return function(r,i){if(t)throw new a("Cyclic reference detected");t=!0;var o;try{o=m(n,r,i)}catch(s){if(s instanceof u)throw s;throw c(s),f(u,s.message,e)}finally{t=!1}return[r,o]}}()}function k(t,n,r){for(var i,o={},a=r?r.shift():e,s=0;s<t.content.length;s++){var c=t.content[s];o[c.key.name]=v(c.value,n,r),c["default"]&&(i=c.key.name)}return function(t,r,s){for(var c=[s,a,i],l=[],h=0;h<c.length;h++){var p=m(c[h],t,r);if(p!==e){if("string"!=typeof p)throw f(u,"Index must be a string",n);if(l.push(p),o.hasOwnProperty(p))return[t,o[p]]}}var d;throw d=l.length?'Hash key lookup failed (tried "'+l.join('", "')+'").':"Hash key lookup failed.",f(u,d,n)}}function O(t,e){if("-"===t)return function(t){if("number"!=typeof t)throw new a("The unary - operator takes a number");return-t};if("+"===t)return function(t){if("number"!=typeof t)throw new a("The unary + operator takes a number");return+t};if("!"===t)return function(t){if("boolean"!=typeof t)throw new a("The ! operator takes a boolean");return!t};throw f(o,"Unknown token: "+t,e)}function C(t,e){if("=="===t)return function(t,e){if(!("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e))throw new a("The == operator takes two numbers or two strings");return t===e};if("!="===t)return function(t,e){if(!("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e))throw new a("The != operator takes two numbers or two strings");return t!==e};if("<"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The < operator takes two numbers");return e>t};if("<="===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The <= operator takes two numbers");return e>=t};if(">"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The > operator takes two numbers");return t>e};if(">="===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The >= operator takes two numbers");return t>=e};if("+"===t)return function(t,e){if(!("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e))throw new a("The + operator takes two numbers or two strings");return t+e};if("-"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The - operator takes two numbers");return t-e};if("*"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The * operator takes two numbers");return t*e};if("/"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The / operator takes two numbers");if(0===e)throw new a("Division by zero not allowed.");return t/e};if("%"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The % operator takes two numbers");if(0===e)throw new a("Modulo zero not allowed.");return t%e};throw f(o,"Unknown token: "+t,e)}function z(t,e){if("&&"===t)return function(t,e){if("boolean"!=typeof t||"boolean"!=typeof e)throw new a("The && operator takes two booleans");return t&&e};if("||"===t)return function(t,e){if("boolean"!=typeof t||"boolean"!=typeof e)throw new a("The || operator takes two booleans");return t||e};throw f(o,"Unknown token: "+t,e)}function j(t,e){var n=O(t.operator.token,e),r=v(t.argument,e);return function(t,e){return[t,n(m(r,t,e))]}}function N(t,e){var n=v(t.left,e),r=C(t.operator.token,e),i=v(t.right,e);return function(t,e){return[t,r(m(n,t,e),m(i,t,e))]}}function T(t,e){var n=v(t.left,e),r=z(t.operator.token,e),i=v(t.right,e);return function(t,e){return[t,r(m(n,t,e),m(i,t,e))]}}function S(t,e){var n=v(t.test,e),r=v(t.consequent,e),i=v(t.alternate,e);return function(t,e){var o=m(n,t,e);if("boolean"!=typeof o)throw new a("Conditional expressions must test a boolean");return o===!0?r(t,e):i(t,e)}}function I(t,e){for(var n=v(t.callee,e),r=[],i=0;i<t.arguments.length;i++)r.push(v(t.arguments[i],e));return function(t,e){for(var i=[],o=0;o<r.length;o++)i.push(r[o](t,e));var s=n(t,e);if(t=s[0],s=s[1],!s.expression)throw new a("Expected a macro, got a non-callable.");return s._call(i,e)}}function P(t,n){var r=v(t.expression,n),i=t.computed?v(t.property,n):t.property.name;return function(t,n){var o=m(i,t,n);if("string"!=typeof o)throw new a("Property name must evaluate to a string: "+o);var s=r(t,n);if(t=s[0],s=s[1],s&&s.value!==e){if("function"!=typeof s.value)throw new a("Cannot get property of a "+typeof s.value+": "+o);return s.value(t,n,o)}if("function"==typeof s)return s(t,n,o);if(s&&s.expression)throw new a("Cannot get property of a macro: "+o);if("object"==typeof s){if(null===s)throw new a("Cannot get property of a null: "+o);if(Array.isArray(s))throw new a("Cannot get property of an array: "+o);if(!s.hasOwnProperty(o))throw new a(o+" is not defined on the object.");return[t,s[o]]}throw new a("Cannot get property of a "+typeof s+": "+o)}}function R(t,e){var n=v(t.expression,e),r=t.computed?v(t.attribute,e):t.attribute.name;return function(t,e){var i=m(r,t,e),o=n(t,e);if(t=o[0],o=o[1],!o.attributes)throw new a("Cannot get attribute of a non-entity: "+i);if(!o.attributes.hasOwnProperty(i))throw new a(o.id+" has no attribute "+i);return[t,o.attributes[i]]}}function q(t,e){return v(t.expression,e)}this.compile=t,this.setGlobals=n,this.addEventListener=r,this.removeEventListener=i;var $=2500,D=new l,V=null,U={globals:{}},M={Entity:h,Macro:d};h.prototype.getString=function(t){try{var e={__this__:this,__env__:this.env};return m(this.value,e,t)}catch(n){throw c(n),n instanceof s&&D.emit("error",n),n}},h.prototype.get=function(t){U.globals={};var e={value:this.getString(t),attributes:{}};if(this.publicAttributes){e.attributes={};for(var n,r=0;n=this.publicAttributes[r];r++)e.attributes[n]=this.attributes[n].getString(t)}return e.globals=U.globals,e},p.prototype.getString=function(t){try{var e={__this__:this.entity,__env__:this.entity.env};return m(this.value,e,t)}catch(n){throw c(n),n instanceof s&&D.emit("error",n),n}},d.prototype._call=function(t,e){var n={__this__:this,__env__:this.env};if(this.args.length!==t.length)throw new a(this.id+"() takes exactly "+this.args.length+" argument(s) ("+t.length+" given)");for(var r=0;r<this.args.length;r++)n[this.args[r].id.name]=t[r];var i=this.expression(n,e);return n=i[0],i=i[1],[n,m(i,n,e)]};var G={Identifier:y,ThisExpression:b,VariableExpression:w,GlobalsExpression:x,Number:E,String:L,Hash:k,HashItem:v,ComplexString:A,UnaryExpression:j,BinaryExpression:N,LogicalExpression:T,ConditionalExpression:S,CallExpression:I,PropertyExpression:P,AttributeExpression:R,ParenthesisExpression:q}}function i(t){this.name="CompilerError",this.message=t}function o(t,e){i.call(this,t),this.name="CompilationError",this.entry=e.id}function a(t){i.call(this,t),this.name="RuntimeError"}function s(t,e,n){a.call(this,t),this.name="ValueError",this.entry=e.id,this.source=n}function u(t,e){a.call(this,t),this.name="IndexError",this.entry=e.id}function c(t){if(!(t instanceof i))throw t}var l=t("./events").EventEmitter;r.Error=i,r.CompilationError=o,r.RuntimeError=a,r.ValueError=s,r.IndexError=u,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,o.prototype=Object.create(i.prototype),o.prototype.constructor=o,a.prototype=Object.create(i.prototype),a.prototype.constructor=a,s.prototype=Object.create(a.prototype),s.prototype.constructor=s,u.prototype=Object.create(a.prototype),u.prototype.constructor=u,n.Compiler=r}),n("l20n/retranslation",function(t,e){"use strict";function n(){function t(t){var e=new t;this.globals[e.id]=e,e.activate&&(a[e.id]=0,e.addEventListener("change",function(t){for(var n=0;n<o.length;n++)o[n]&&-1!==o[n].globals.indexOf(t)&&o[n].callback({global:e.id})}))}function e(t,e){var n,r;for(n=0;n<s.length;n++)if(s[n].id===t.id){r=!0;break}r?e&&(s[n]=t):s.push(t);var i;for(n=0;n<o.length;n++)if(o[n]&&o[n].id===t.id){i=o[n];break}var u;if(i)if(e)i.callback=t.callback,u=t.globals.filter(function(t){return this.globals[t].activate&&-1===i.globals.indexOf(t)},this),u.forEach(function(t){a[t]++,this.globals[t].activate()},this),i.globals=i.globals.concat(u);else if(0===t.globals.length)delete o[n];else{u=t.globals.filter(function(t){return this.globals[t].activate&&-1===i.globals.indexOf(t)},this),u.forEach(function(t){a[t]++,this.globals[t].activate()},this);var c=i.globals.filter(function(e){return this.globals[e].activate&&-1===t.globals.indexOf(e)},this);c.forEach(function(t){a[t]--,0===a[t]&&this.globals[t].deactivate()},this),i.globals=t.globals}else 0!==t.globals.length&&(o.push(t),t.globals.forEach(function(t){this.globals[t].activate&&(a[t]++,this.globals[t].activate())},this))}function r(t){for(var e,n=-1,r=0;r<o.length;r++)if(o[r]&&o[r].id===t){e=o[r],n=r;break}if(e)for(e.globals.forEach(function(t){this.globals[t].activate&&(a[t]--,0===a[t]&&this.globals[t].deactivate())},this),o.splice(n,1),r=0;r<s.length;r++)if(s[r].id===t){s.splice(r,1);break}}function i(t){for(var e=0;e<s.length;e++)s[e].callback({locales:t})}var o=[],a={},s=[];this.bindGet=e,this.unbindGet=r,this.all=i,this.globals={},n._constructors.forEach(function(e){t.call(this,e)},this)}n._constructors=[],n.registerGlobal=function(t){n._constructors.push(t)},n.deregisterGlobal=function(t){var e=n._constructors.indexOf(t);-1!==e&&n._constructors.splice(e,1)},e.RetranslationManager=n}),n("l20n/platform/globals",function(e,n){"use strict";function r(){this.id=null,this._emitter=new s,this.value=null,this.isActive=!1}function i(){function e(){return{width:{px:document.body.clientWidth}}}function n(){i.value=e(),i._emitter.emit("change",i.id)}r.call(this),this.id="screen",this._get=e,this.activate=function(){this.isActive||(t.addEventListener("resize",n),this.isActive=!0)},this.deactivate=function(){t.removeEventListener("resize",n),this.value=null,this.isActive=!1};var i=this}function o(){function t(){return/^MacIntel/.test(navigator.platform)?"mac":/^Linux/.test(navigator.platform)?"linux":/^Win/.test(navigator.platform)?"win":"unknown"}r.call(this),this.id="os",this.get=t}function a(){function t(){var t=new Date;return t.getHours()}function e(){var t=new Date;t.getHours()!==n.value&&(n.value=t.getHours(),n._emitter.emit("change",n.id))}r.call(this),this.id="hour",this._get=t,this.activate=function(){if(!this.isActive){var t=new Date;o=setTimeout(function(){e(),o=setInterval(e,i)},i-t.getTime()%i),this.isActive=!0}},this.deactivate=function(){clearInterval(o),this.value=null,this.isActive=!1};var n=this,i=36e5,o=null}var s=e("../events").EventEmitter,u=e("../retranslation").RetranslationManager;r.prototype._get=function(){throw new Error("Not implemented")},r.prototype.get=function(){return this.value&&this.isActive||(this.value=this._get()),this.value},r.prototype.addEventListener=function(t,e){if("change"!==t)throw"Unknown event type";this._emitter.addEventListener(t,e)},i.prototype=Object.create(r.prototype),i.prototype.constructor=i,o.prototype=Object.create(r.prototype),o.prototype.constructor=o,a.prototype=Object.create(r.prototype),a.prototype.constructor=a,u.registerGlobal(i),u.registerGlobal(o),u.registerGlobal(a),n.Global=r}),n("l20n/platform/io",function(t,e){"use strict";function n(t){this.name="IOError",this.message=t}e.load=function(t,e,r){var i=new XMLHttpRequest;i.overrideMimeType&&i.overrideMimeType("text/plain"),i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status||0===i.status)e(null,i.responseText);else{var r=new n("Not found: "+t);e(r)}},i.open("GET",t,!r),i.send("")},n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.Error=n}),n("l20n/intl",function(t,n){"use strict";function r(t){if(!d.test(t))return!1;if(t.startsWith("x-"))return!0;var e=t.indexOf("-x-");return-1!==e&&(t=t.substring(0,e)),!v.test(t)&&!g.test(t)}function i(t){if(t=t.toLowerCase(),f&&f.hasOwnProperty(t))return f[t];for(var e=t.split("-"),n=0;n<e.length;){var r=e[n];if(1===r.length&&(n>0||"x"===r))break;4===r.length?r=r[0].toUpperCase()+r.substring(1):0!==n&&2===r.length&&(r=r.toUpperCase()),h.hasOwnProperty(r)?r=h[r]:p.hasOwnProperty(r)&&(r=p[r].preferred,1===n&&p[r].prefix===e[0]&&(e.shift(),n--)),e[n]=r,n++}for(var i=e.slice(0,n).join("-"),o=[];n<e.length&&"x"!==e[n];){var a=n;for(n++;n<e.length&&e[n].length>1;)n++;var s=sybtags.slice(a,n).join("-");o.push(s)}o.sort();var u="";n<e.length&&(u=e.slice(n).join("-"));var c=i;return o.length>0&&(c+="-"+o.join("-")),u.length>0&&(c.length>0?c+="-"+u:c=u),c}function o(t){if(t===e)return[];var n=[];"string"==typeof t&&(t=[t]);for(var o=t,a=o.length,s=0;a>s;){var u=s in o;if(u){var c=o[s];"string"!=typeof c&&"object"!=typeof c&&ThrowError(JSMSG_INVALID_LOCALES_ELEMENT);var l=c;r(l)||ThrowError(JSMSG_INVALID_LANGUAGE_TAG,l),l=i(l),-1===n.indexOf(l)&&n.push(l)}s++}return n}function a(t,n){for(var r=n;;){if(-1!==t.indexOf(r))return r;var i=r.lastIndexOf("-");if(-1===i)return e;i>=2&&"-"===r[i-2]&&(i-=2),r=r.substring(0,i)}}function s(t,n){for(var r=n.length,i=[],o=0;r>o;){var s=n[o],u=s.replace(l,""),c=a(t,u);c!==e&&i.push(c),o++}return i.slice(0)}function u(t,e,n){t=o(t),e=o(e);var r=s(t,e);return n?(n=i(n),-1===r.indexOf(n)&&r.push(n),r):r}String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(t,e){return e=e||0,this.indexOf(t,e)===e}});var c="-u(-[a-z0-9]{2,8})+",l=(new RegExp(c),new RegExp(c,"g")),f={},h={},p={},d=function(){var t="[a-zA-Z]",e="[0-9]",n="(?:"+t+"|"+e+")",r="(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)",i="(?:en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)",o="(?:"+i+"|"+r+")",a="(?:x(?:-[a-z0-9]{1,8})+)",s="(?:"+e+"|[A-WY-Za-wy-z])",u="(?:"+s+"(?:-"+n+"{2,8})+)",c="(?:"+n+"{5,8}|(?:"+e+n+"{3}))",l="(?:"+t+"{2}|"+e+"{3})",f="(?:"+t+"{4})",h="(?:"+t+"{3}(?:-"+t+"{3}){0,2})",p="(?:"+t+"{2,3}(?:-"+h+")?|"+t+"{4}|"+t+"{5,8})",d=p+"(?:-"+f+")?(?:-"+l+")?(?:-"+c+")*(?:-"+u+")*(?:-"+a+")?",v="^(?:"+d+"|"+a+"|"+o+")$";return new RegExp(v,"i")}(),v=function(){var t="[a-zA-Z]",e="[0-9]",n="(?:"+t+"|"+e+")",r="(?:"+n+"{5,8}|(?:"+e+n+"{3}))",i="(?:"+n+"{2,8}-)+("+r+")-(?:"+n+"{2,8}-)*\\1(?!"+n+")";return new RegExp(i)}(),g=function(){var t="[a-zA-Z]",e="[0-9]",n="(?:"+t+"|"+e+")",r="(?:"+e+"|[A-WY-Za-wy-z])",i="-("+r+")-(?:"+n+"+-)*\\1(?!"+n+")";return new RegExp(i)}();n.Intl={prioritizeLocales:u}}),t.L20n=s("l20n"),s("l20n/html")}(window);